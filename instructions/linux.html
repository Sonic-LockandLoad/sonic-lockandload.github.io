<html>
    <head>
        <link href="/style.css" rel="stylesheet">
        <link rel="icon" type="image/x-icon" href="/favicon.png">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta property="type" content="website">
		<meta property="url" content="https://sonic-lockandload.github.io">
		<meta property="title" content="Sonic: Lock &amp; Load - Linux Instructions">
        <meta property="author" content="Arsalan Kazmi">
		<meta property="description" content="Instructions on how to install and play the game on Linux.">
        <meta property="image" content="banner.png">
        <meta property="image:type" content="image/png">
        <meta property="image:width" content="730">
        <meta property="image:height" content="512">
        <script src="https://kit.fontawesome.com/56b6b2df41.js" crossorigin="anonymous"></script>
        <title>Sonic: Lock &amp; Load Â» Installation</title>
    </head>
    <body>
        <div id="header">
            <a href="../index.html"><img src="../Sonic-LockandLoadLogo.png" id="logo"/></a>
            <hr id="separator">
        </div>
        <div id="content">
            <a href="../instructions.html" style="position:absolute;">&lang; Back to Instructions</a>
            <h1>Installing on Linux</h1>
            <h2>Requirements</h2>
            <ul>
                <li>Flathub-enabled Linux system</li>
                <li>Graphical environment (X11 or Wayland)</li>
                <li><a href="https://flathub.org/apps/com.github.tchx84.Flatseal">Flatseal</a> (optional)</li>
                <li>DOOM II: Hell on Earth's <code>doom2.wad</code> (you can get DOOM II from <a href="https://store.steampowered.com/app/2300/DOOM_II/">Steam</a> or <a href="https://www.gog.com/en/game/doom_ii">GOG</a>)</li>
                <li>Freedoom: Phase 2's <code>freedoom2.wad</code> if you don't want to use DOOM II</li>
                <li><a href="https://lutris.net/">Lutris</a> (optional but highly recommended)</li>
            </ul>
            <p id="greenquoteblock">
                <strong>Steam Deck users:</strong> You need to switch to Desktop Mode to follow these instructions - you can't do it in Game Mode.
                You can still add Sonic: Lock & Load as a non-Steam game later.
                Keep in mind I don't own a Steam Deck myself, so official support is heavily limited. Your mileage may vary.
            </p>
            <h2>Important Note</h2>
            <p>This guide will specifically focus on the Flatpak version of GZDoom, since this is the version accessible from practically every Linux distribution under the sun.</p>
            <p>If you're using something else, like the Ubuntu package or AppImage, or even running the Windows version under Wine (if you are, follow the <a href="windows.html">Windows instructions</a>), some instructions may be different or outright incorrect.</p>
            <p>Please note support is primarily offered for Flatpak users.</p>
            <h2>Installing GZDoom</h2>
            <p>If your Linux distro has a graphical app store (GNOME Software or KDE's Discover), search for GZDoom there. If you're using a Steam Deck, GZDoom will be available in Discover.</p>
            <p>Otherwise, you can run <code>flatpak install org.zdoom.GZDoom</code> at the command line.</p>
            <h2>Setting up GZDoom</h2>
            <p>Navigate to <code>~/.var/app/org.zdoom.GZDoom/.config/gzdoom/</code> and drop <code>DOOM2.WAD</code> in there.</p>
            <p>An easier way to do this is simply to enter the following command in your Terminal:</p>
            <p><code>cp /path/to/DOOM2.WAD ~/.var/app/org.zdoom.GZDoom/.config/gzdoom/</code></p>
            <h2>Getting a copy of the game</h2>
            <p>Simply <a href="/download.html">download the Standalone PK3</a> for the latest stable version or <code>git clone</code> the Sonic: Lock & Load repository for the latest development version.</p>
            <p>It's recommended you put the PK3 somewhere where it won't be lost, like in a "DOOM Mods" directory - don't put it in your home directory or Documents folder, and definitely don't keep it in Downloads.</p>
            <p>To better integrate Sonic: Lock & Load with your GZDoom installation, you can alternatively place the PK3 inside <code>~/.var/app/org.zdoom.GZDoom/data/</code>.</p>
            <h2>Granting GZDoom access to your files</h2>
            <p id="greenquoteblock">
                <strong>Yes, I know.</strong>
                You technically don't need Flatseal for this - you can do it with <code>flatpak override org.zdoom.GZDoom --filesystem=home</code>.
                But this is much easier, and this guide is aimed towards beginners who are new to Linux.
                If you're comfortable doing this at the command line, do it at the command line. Otherwise, use Flatseal.
            </p>
            <p>Open Flatseal up and click "GZDoom (org.zdoom.GZDoom)". Scroll down until you reach the "Filesystem" heading.</p>
            <p>There should be an option called "All user files (filesystem=home)" - enable it to make GZDoom's Flatpak aware of your home directory.</p>
            <p>If you need to unrestrict more access to your system (which you shouldn't have to but it's not my perogative), you can additionally enable access to your system files, all installed libraries and executables, and system configurations, as well as anywhere else also.</p>
            <img src="gzdoom-flatseal.png" alt="Flatseal, with GZDoom selected, with 'All user files' highlighted">
            <h2>Adding and running the game in Lutris</h2>
            <p>To make running the game a whole lot easier, using <a href="https://lutris.net/">Lutris</a>, click <strong>Add Game</strong> (the <code>+</code> icon) and select "Add locally installed game".</p>
            <p>Then, fill out the "Game info" tab like so:</p>
            <img class="framed" src="sll-lutris-gameinfo.png" alt="Name: Sonic: Lock & Load; Sort name: sonic; Runner: ZDoom (ZDoom DOOM Game Engine); Release year: 2021">
            <p>And fill out the "Game options" tab like so:</p>
            <img class="framed" src="sll-lutris-gameopts.png" alt="WAD file: /home/aeriavelocity/.var/app/org.zdoom.GZDoom/.config/gzdoom/DOOM2.WAD; Arguments: -file /home/aeriavelocity/.var/app/org.zdoom.GZDoom/data/Sonic-LockandLoad">
            <p>If you want to add your PK3 file to the "PWAD files" list, that works too.</p>
            <p>Afterwards, click "Save", and Sonic: Lock & Load should be available in your Lutris menu.</p>
            <p>When that's done, right-click on it and select "Create application menu shortcut" to have Lutris make a desktop entry that'll be recognised by your system.</p>
            <h2>Running the game without Lutris</h2>
            <ul>
                <li><strong>Use ZDL:</strong> Download and set up <a href="https://github.com/lcferrum/qzdl/releases">QZDL (Qt ZDoom Launcher)</a>, a Qt version of the venerable ZDL launcher. This is recommended if Sonic: Lock &amp; Load is just one of the many mods you'll be playing for DOOM.</li>
                <li><strong>Use the terminal:</strong> In your terminal, run <code>flatpak run org.zdoom.GZDoom --command=gzdoom -file path/to/Sonic-LockandLoad-vX.X.X.pk3</code>. This is recommended if you're comfortable with the terminal and command-line tools in general.</li>
                <li><strong>Create a .desktop file:</strong> If you are using Lutris, right-click on Sonic: Lock &amp; Load and select "Create application menu shortcut". If not, you can create a <code>.desktop</code> file yourself - there are various online tutorials.</li>
            </ul>
            <h2>And that's it!</h2>
            <p>You're now playing Sonic: Lock & Load. Have fun with it, and don't forget to configure the options in case you want to!</p>
            <p>If you have any feedback, <a href="https://github.com/sonic-lockandload/sonic-lockandload/issues/new/choose">open an issue on Sonic: Lock & Load's GitHub</a>.</p>
        </div>
    </body>
</html>
